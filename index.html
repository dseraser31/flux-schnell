<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ù…ÙˆÙ„Ø¯ Ø§Ù„ØµÙˆØ± - Flux Schnell</title>
  <style>
    body { font-family: Arial, sans-serif; background: #1a1a1a; color: #fff; text-align: center; padding: 30px; }
    input, select, button { padding: 10px; margin: 10px; border-radius: 8px; border: none; }
    input, select { width: 60%; }
    button { background: #ff6600; color: #fff; cursor: pointer; font-weight: bold; }
    button:hover { background: #e65c00; }
    img { max-width: 80%; margin-top: 20px; border: 4px solid #444; border-radius: 12px; }
  </style>
</head>
<body>
  <h1>ğŸ¨ Ù…ÙˆÙ„Ø¯ Ø§Ù„ØµÙˆØ± (Flux Schnell)</h1>
  <form id="generateForm">
    <input type="text" id="prompt" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„ÙˆØµÙ Ù‡Ù†Ø§..." required><br>
    <label>ğŸ“ Ø§Ù„Ù…Ù‚Ø§Ø³:</label>
    <select id="size">
      <option value="512x512">Ù…Ø±Ø¨Ø¹ (512x512)</option>
      <option value="768x1024">Ø·ÙˆÙŠÙ„ (768x1024)</option>
      <option value="1024x576">Ø¹Ø±ÙŠØ¶ (1024x576)</option>
    </select><br>
    <button type="submit">ğŸš€ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØµÙˆØ±Ø©</button>
  </form>
  <div id="result"></div>

  <script>
    document.getElementById("generateForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const prompt = document.getElementById("prompt").value;
      const size = document.getElementById("size").value.split("x");
      const width = size[0];
      const height = size[1];
      document.getElementById("result").innerHTML = "<p>â³ Ø¬Ø§Ø±ÙŠ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØµÙˆØ±Ø©...</p>";

      const url = `https://purple-hat-d92c.dseraser31.workers.dev/?prompt=${encodeURIComponent(prompt)}&width=512&height=512`;

      const res = await fetch(url);
      if (res.ok) {
        const blob = await res.blob();
        const imgUrl = URL.createObjectURL(blob);
        document.getElementById("result").innerHTML = `<a href="${imgUrl}" download="image.png"><img src="${imgUrl}" alt="Ø§Ù„ØµÙˆØ±Ø©"></a><p>â¬‡ï¸ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ù„Ù„ØªØ­Ù…ÙŠÙ„</p>`;
      } else {
        document.getElementById("result").innerHTML = "<p>âŒ Ø­Ø¯Ø« Ø®Ø·Ø£</p>";
      }
    });
  </script>
</body>
</html>
